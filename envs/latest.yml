# This environment is intended to provide all optional dependencies and
# use as-recent-as-possible versions with minimal pinning.
# Acceptance test failures due to different output values are OK.
# Unit test failures are not OK - pinning should be used where needed to
# make the unit tests pass.
name: improver_latest
channels:
  - conda-forge
dependencies:
  - python
  # Required
  - cartopy
  - clize
  - iris
  - numpy
  - pytz
  - scipy
  - sphinx<9.0.0  # https://github.com/tox-dev/sphinx-autodoc-typehints/issues/586
  # Optional
  - python-stratify
  - geopandas
  - statsmodels
  - lightgbm
  - numba
  - pygam<0.11
  - pysteps
  - treelite
  - tl2cgen
  - tensorflow
  - tensorflow-hub
  # Development
  - astroid
  - codacy-coverage
  - filelock
  - mock
  - mypy
  - pandas<3  # https://github.com/SciTools/iris/issues/6761
  - pytest
  - pytest-cov
  - pytest-xdist
  - sphinx-autodoc-typehints
  - sphinx-book-theme
  - sphinx-gallery
  - threadpoolctl
  - pip
  - pip:
    - git+https://github.com/metoppv/improver_example_data.git@${BRANCH_NAME}
